<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DFD Level 1 - Sistem Website Legian Medical Clinic</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            background: #f5f5f5;
            border-bottom: 2px solid #ddd;
            padding: 0 20px;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 1em;
            font-weight: 500;
            color: #666;
            transition: all 0.3s;
            position: relative;
        }

        .tab:hover {
            background: #e8e8e8;
            color: #333;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .content {
            padding: 30px;
        }

        .diagram-container {
            display: none;
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .diagram-container.active {
            display: block;
        }

        .diagram-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .mermaid {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }

        /* Custom styling for Data Store to look like two parallel lines (DFD notation) */
        .mermaid svg .node rect[id*="flowchart-D"] {
            border-top: 5px solid #f57f17 !important;
            border-bottom: 5px solid #f57f17 !important;
            border-left: 0 !important;
            border-right: 0 !important;
            background: #fff9c4 !important;
        }

        .mermaid svg g[id*="D"] rect {
            border-top: 5px solid #f57f17 !important;
            border-bottom: 5px solid #f57f17 !important;
            border-left: 0 !important;
            border-right: 0 !important;
        }

        .info-box {
            background: #f0f7ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .info-box p {
            color: #555;
            line-height: 1.6;
        }

        .back-link {
            display: inline-block;
            margin: 20px 0;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .back-link:hover {
            background: #5568d3;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }

            .tab {
                width: 100%;
                text-align: left;
            }

            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DFD Level 1</h1>
            <p>Sistem Website Legian Medical Clinic</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showDiagram('p1')">P1.0 Login</button>
            <button class="tab" onclick="showDiagram('p2')">P2.0 Manajemen Dokter</button>
            <button class="tab" onclick="showDiagram('p3')">P3.0 Manajemen Layanan</button>
            <button class="tab" onclick="showDiagram('p4')">P4.0 Manajemen FAQ</button>
            <button class="tab" onclick="showDiagram('p5')">P5.0 Manajemen Konten</button>
            <button class="tab" onclick="showDiagram('p6')">P6.0 Manajemen User</button>
            <button class="tab" onclick="showDiagram('p7')">P7.0 Pengaturan Akun</button>
            <button class="tab" onclick="showDiagram('p8')">P8.0 Auto-Translation</button>
            <button class="tab" onclick="showDiagram('p9')">P9.0 Tampilkan Website</button>
        </div>

        <div class="content">
            <!-- P1.0 Login -->
            <div id="p1" class="diagram-container active">
                <h2 class="diagram-title">P1.0 Login</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    SuperAdmin["Super Admin"]
    Admin["Admin"]
    
    %% Sub-processes
    P11["P1.1<br/>Masukkan<br/>Username &<br/>Password"]
    P12["P1.2<br/>Verifikasi<br/>User"]
    P13["P1.3<br/>Logout"]
    
    %% Data Stores
    D1["D1<br/>admin_users"]
    D7["D7<br/>sessions"]
    D6["D6<br/>activity_logs"]
    
    %% Flows - Login
    SuperAdmin -->|"login"| P11
    Admin -->|"login"| P11
    P11 -->|"data username & password"| P12
    P12 <-->|"data login"| D1
    P12 -->|"data session"| D7
    P12 -->|"data log aktivitas"| D6
    P12 -->|"pesan login berhasil atau gagal"| SuperAdmin
    P12 -->|"pesan login berhasil atau gagal"| Admin
    
    %% Flows - Logout
    SuperAdmin -->|"request logout"| P13
    Admin -->|"request logout"| P13
    P13 -->|"hapus session"| D7
    P13 -->|"data log aktivitas"| D6
    P13 -->|"konfirmasi logout"| SuperAdmin
    P13 -->|"konfirmasi logout"| Admin
    
    style P11 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P12 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P13 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style SuperAdmin fill:#ffebee,stroke:#c62828,stroke-width:2px
    style Admin fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style D1 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D7 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D6 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P1.1 Masukkan Username & Password:</strong> Menerima input username dan password dari Super Admin atau Admin.</p>
                    <p><strong>P1.2 Verifikasi User:</strong> Memverifikasi kredensial user dengan data di database dan membuat session.</p>
                    <p><strong>P1.3 Logout:</strong> Proses logout user dan menghapus session.</p>
                </div>
            </div>

            <!-- P2.0 Manajemen Dokter -->
            <div id="p2" class="diagram-container">
                <h2 class="diagram-title">P2.0 Manajemen Dokter</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    SuperAdmin["Super Admin"]
    Admin["Admin"]
    
    %% Sub-processes
    P21["P2.1<br/>Tambah Data<br/>Dokter"]
    P22["P2.2<br/>Ubah Data<br/>Dokter"]
    P23["P2.3<br/>Hapus Data<br/>Dokter"]
    P24["P2.4<br/>Validasi Data<br/>Dokter"]
    
    %% Data Stores
    D2["D2<br/>doctors"]
    D6["D6<br/>activity_logs"]
    
    %% External Process
    P8["P8.0<br/>Auto-Translation"]
    
    %% Flows from External Entities
    SuperAdmin -->|"info data dokter"| P21
    SuperAdmin -->|"info data dokter"| P22
    SuperAdmin -->|"info data dokter"| P23
    Admin -->|"info data dokter"| P21
    Admin -->|"info data dokter"| P22
    Admin -->|"info data dokter"| P23
    
    %% Flows between processes
    P21 -->|"info data dokter"| P24
    P22 -->|"info data dokter"| P24
    P23 -->|"info data dokter"| P24
    P24 -->|"data dokter update"| P21
    P24 -->|"data dokter update"| P22
    P24 -->|"data dokter update"| P23
    
    %% Flows to Data Store
    P24 -->|"info data dokter"| D2
    D2 -->|"data dokter update"| P24
    
    %% Flows to Activity Log
    P24 -->|"data log aktivitas"| D6
    
    %% Flows to Auto-Translation
    P24 -->|"data teks bahasa Indonesia"| P8
    P8 -->|"info teks terjemahan"| P24
    
    %% Flows back to External Entities
    P21 -->|"data dokter update"| SuperAdmin
    P21 -->|"data dokter update"| Admin
    P22 -->|"data dokter update"| SuperAdmin
    P22 -->|"data dokter update"| Admin
    P23 -->|"data dokter update"| SuperAdmin
    P23 -->|"data dokter update"| Admin
    P24 -->|"data dokter update"| SuperAdmin
    P24 -->|"data dokter update"| Admin
    
    style P21 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P22 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P23 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P24 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style SuperAdmin fill:#ffebee,stroke:#c62828,stroke-width:2px
    style Admin fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style D2 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D6 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style P8 fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P2.1 Tambah Data Dokter:</strong> Menambahkan data dokter baru.</p>
                    <p><strong>P2.2 Ubah Data Dokter:</strong> Mengubah data dokter yang sudah ada.</p>
                    <p><strong>P2.3 Hapus Data Dokter:</strong> Menghapus data dokter.</p>
                    <p><strong>P2.4 Validasi Data Dokter:</strong> Memvalidasi data dokter sebelum disimpan ke database, termasuk auto-translation.</p>
                </div>
            </div>

            <!-- P3.0 Manajemen Layanan -->
            <div id="p3" class="diagram-container">
                <h2 class="diagram-title">P3.0 Manajemen Layanan</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    SuperAdmin["Super Admin"]
    Admin["Admin"]
    
    %% Sub-processes
    P31["P3.1<br/>Tambah Data<br/>Layanan"]
    P32["P3.2<br/>Ubah Data<br/>Layanan"]
    P33["P3.3<br/>Hapus Data<br/>Layanan"]
    P34["P3.4<br/>Validasi Data<br/>Layanan"]
    
    %% Data Stores
    D3["D3<br/>services"]
    D6["D6<br/>activity_logs"]
    
    %% External Process
    P8["P8.0<br/>Auto-Translation"]
    
    %% Flows from External Entities
    SuperAdmin -->|"info data layanan"| P31
    SuperAdmin -->|"info data layanan"| P32
    SuperAdmin -->|"info data layanan"| P33
    Admin -->|"info data layanan"| P31
    Admin -->|"info data layanan"| P32
    Admin -->|"info data layanan"| P33
    
    %% Flows between processes
    P31 -->|"info data layanan"| P34
    P32 -->|"info data layanan"| P34
    P33 -->|"info data layanan"| P34
    P34 -->|"data layanan update"| P31
    P34 -->|"data layanan update"| P32
    P34 -->|"data layanan update"| P33
    
    %% Flows to Data Store
    P34 -->|"info data layanan"| D3
    D3 -->|"data layanan update"| P34
    
    %% Flows to Activity Log
    P34 -->|"data log aktivitas"| D6
    
    %% Flows to Auto-Translation
    P34 -->|"data teks bahasa Indonesia"| P8
    P8 -->|"info teks terjemahan"| P34
    
    %% Flows back to External Entities
    P31 -->|"data layanan update"| SuperAdmin
    P31 -->|"data layanan update"| Admin
    P32 -->|"data layanan update"| SuperAdmin
    P32 -->|"data layanan update"| Admin
    P33 -->|"data layanan update"| SuperAdmin
    P33 -->|"data layanan update"| Admin
    P34 -->|"data layanan update"| SuperAdmin
    P34 -->|"data layanan update"| Admin
    
    style P31 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P32 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P33 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P34 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style SuperAdmin fill:#ffebee,stroke:#c62828,stroke-width:2px
    style Admin fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style D3 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D6 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style P8 fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P3.1 Tambah Data Layanan:</strong> Menambahkan data layanan baru.</p>
                    <p><strong>P3.2 Ubah Data Layanan:</strong> Mengubah data layanan yang sudah ada.</p>
                    <p><strong>P3.3 Hapus Data Layanan:</strong> Menghapus data layanan.</p>
                    <p><strong>P3.4 Validasi Data Layanan:</strong> Memvalidasi data layanan sebelum disimpan ke database, termasuk auto-translation.</p>
                </div>
            </div>

            <!-- P4.0 Manajemen FAQ -->
            <div id="p4" class="diagram-container">
                <h2 class="diagram-title">P4.0 Manajemen FAQ</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    SuperAdmin["Super Admin"]
    Admin["Admin"]
    
    %% Sub-processes
    P41["P4.1<br/>Tambah Data<br/>FAQ"]
    P42["P4.2<br/>Ubah Data<br/>FAQ"]
    P43["P4.3<br/>Hapus Data<br/>FAQ"]
    P44["P4.4<br/>Validasi Data<br/>FAQ"]
    
    %% Data Stores
    D4["D4<br/>faqs"]
    D6["D6<br/>activity_logs"]
    
    %% External Process
    P8["P8.0<br/>Auto-Translation"]
    
    %% Flows from External Entities
    SuperAdmin -->|"info data FAQ"| P41
    SuperAdmin -->|"info data FAQ"| P42
    SuperAdmin -->|"info data FAQ"| P43
    Admin -->|"info data FAQ"| P41
    Admin -->|"info data FAQ"| P42
    Admin -->|"info data FAQ"| P43
    
    %% Flows between processes
    P41 -->|"info data FAQ"| P44
    P42 -->|"info data FAQ"| P44
    P43 -->|"info data FAQ"| P44
    P44 -->|"data FAQ update"| P41
    P44 -->|"data FAQ update"| P42
    P44 -->|"data FAQ update"| P43
    
    %% Flows to Data Store
    P44 -->|"info data FAQ"| D4
    D4 -->|"data FAQ update"| P44
    
    %% Flows to Activity Log
    P44 -->|"data log aktivitas"| D6
    
    %% Flows to Auto-Translation
    P44 -->|"data teks bahasa Indonesia"| P8
    P8 -->|"info teks terjemahan"| P44
    
    %% Flows back to External Entities
    P41 -->|"data FAQ update"| SuperAdmin
    P41 -->|"data FAQ update"| Admin
    P42 -->|"data FAQ update"| SuperAdmin
    P42 -->|"data FAQ update"| Admin
    P43 -->|"data FAQ update"| SuperAdmin
    P43 -->|"data FAQ update"| Admin
    P44 -->|"data FAQ update"| SuperAdmin
    P44 -->|"data FAQ update"| Admin
    
    style P41 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P42 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P43 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P44 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style SuperAdmin fill:#ffebee,stroke:#c62828,stroke-width:2px
    style Admin fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style D4 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D6 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style P8 fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P4.1 Tambah Data FAQ:</strong> Menambahkan data FAQ baru.</p>
                    <p><strong>P4.2 Ubah Data FAQ:</strong> Mengubah data FAQ yang sudah ada.</p>
                    <p><strong>P4.3 Hapus Data FAQ:</strong> Menghapus data FAQ.</p>
                    <p><strong>P4.4 Validasi Data FAQ:</strong> Memvalidasi data FAQ sebelum disimpan ke database, termasuk auto-translation.</p>
                </div>
            </div>

            <!-- P5.0 Manajemen Konten -->
            <div id="p5" class="diagram-container">
                <h2 class="diagram-title">P5.0 Manajemen Konten</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    SuperAdmin["Super Admin"]
    Admin["Admin"]
    
    %% Sub-processes
    P51["P5.1<br/>Tambah Data<br/>Konten"]
    P52["P5.2<br/>Ubah Data<br/>Konten"]
    P53["P5.3<br/>Hapus Data<br/>Konten"]
    P54["P5.4<br/>Validasi Data<br/>Konten"]
    
    %% Data Stores
    D5["D5<br/>content_pages"]
    D6["D6<br/>activity_logs"]
    
    %% External Process
    P8["P8.0<br/>Auto-Translation"]
    
    %% Flows from External Entities
    SuperAdmin -->|"info data konten halaman"| P51
    SuperAdmin -->|"info data konten halaman"| P52
    SuperAdmin -->|"info data konten halaman"| P53
    Admin -->|"info data konten halaman"| P51
    Admin -->|"info data konten halaman"| P52
    Admin -->|"info data konten halaman"| P53
    
    %% Flows between processes
    P51 -->|"info data konten halaman"| P54
    P52 -->|"info data konten halaman"| P54
    P53 -->|"info data konten halaman"| P54
    P54 -->|"data konten halaman update"| P51
    P54 -->|"data konten halaman update"| P52
    P54 -->|"data konten halaman update"| P53
    
    %% Flows to Data Store
    P54 -->|"info data konten halaman"| D5
    D5 -->|"data konten halaman update"| P54
    
    %% Flows to Activity Log
    P54 -->|"data log aktivitas"| D6
    
    %% Flows to Auto-Translation
    P54 -->|"data teks bahasa Indonesia"| P8
    P8 -->|"info teks terjemahan"| P54
    
    %% Flows back to External Entities
    P51 -->|"data konten halaman update"| SuperAdmin
    P51 -->|"data konten halaman update"| Admin
    P52 -->|"data konten halaman update"| SuperAdmin
    P52 -->|"data konten halaman update"| Admin
    P53 -->|"data konten halaman update"| SuperAdmin
    P53 -->|"data konten halaman update"| Admin
    P54 -->|"data konten halaman update"| SuperAdmin
    P54 -->|"data konten halaman update"| Admin
    
    style P51 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P52 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P53 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P54 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style SuperAdmin fill:#ffebee,stroke:#c62828,stroke-width:2px
    style Admin fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style D5 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D6 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style P8 fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P5.1 Tambah Data Konten:</strong> Menambahkan konten halaman baru.</p>
                    <p><strong>P5.2 Ubah Data Konten:</strong> Mengubah konten halaman yang sudah ada.</p>
                    <p><strong>P5.3 Hapus Data Konten:</strong> Menghapus konten halaman.</p>
                    <p><strong>P5.4 Validasi Data Konten:</strong> Memvalidasi konten halaman sebelum disimpan ke database, termasuk auto-translation.</p>
                </div>
            </div>

            <!-- P6.0 Manajemen User -->
            <div id="p6" class="diagram-container">
                <h2 class="diagram-title">P6.0 Manajemen User</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    SuperAdmin["Super Admin"]
    
    %% Sub-processes
    P61["P6.1<br/>Tambah Data<br/>User Admin"]
    P62["P6.2<br/>Ubah Data<br/>User Admin"]
    P63["P6.3<br/>Hapus Data<br/>User Admin"]
    P64["P6.4<br/>Validasi Data<br/>User Admin"]
    
    %% Data Stores
    D1["D1<br/>admin_users"]
    D6["D6<br/>activity_logs"]
    
    %% Flows from External Entities
    SuperAdmin -->|"info data user admin"| P61
    SuperAdmin -->|"info data user admin"| P62
    SuperAdmin -->|"info data user admin"| P63
    
    %% Flows between processes
    P61 -->|"info data user admin"| P64
    P62 -->|"info data user admin"| P64
    P63 -->|"info data user admin"| P64
    P64 -->|"data user admin update"| P61
    P64 -->|"data user admin update"| P62
    P64 -->|"data user admin update"| P63
    
    %% Flows to Data Store
    P64 -->|"info data user admin"| D1
    D1 -->|"data user admin update"| P64
    
    %% Flows to Activity Log
    P64 -->|"data log aktivitas"| D6
    
    %% Flows back to External Entities
    P61 -->|"data user admin update"| SuperAdmin
    P62 -->|"data user admin update"| SuperAdmin
    P63 -->|"data user admin update"| SuperAdmin
    P64 -->|"data user admin update"| SuperAdmin
    
    style P61 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P62 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P63 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P64 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style SuperAdmin fill:#ffebee,stroke:#c62828,stroke-width:2px
    style D1 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D6 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P6.1 Tambah Data User Admin:</strong> Menambahkan user admin baru (hanya Super Admin).</p>
                    <p><strong>P6.2 Ubah Data User Admin:</strong> Mengubah data user admin yang sudah ada (hanya Super Admin).</p>
                    <p><strong>P6.3 Hapus Data User Admin:</strong> Menghapus user admin (hanya Super Admin).</p>
                    <p><strong>P6.4 Validasi Data User Admin:</strong> Memvalidasi data user admin sebelum disimpan ke database.</p>
                </div>
            </div>

            <!-- P7.0 Pengaturan Akun -->
            <div id="p7" class="diagram-container">
                <h2 class="diagram-title">P7.0 Pengaturan Akun</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    SuperAdmin["Super Admin"]
    Admin["Admin"]
    
    %% Sub-processes
    P71["P7.1<br/>Ubah Username"]
    P72["P7.2<br/>Ubah Password"]
    P73["P7.3<br/>Validasi<br/>Pengaturan Akun"]
    
    %% Data Stores
    D1["D1<br/>admin_users"]
    D6["D6<br/>activity_logs"]
    
    %% Flows from External Entities
    SuperAdmin -->|"info data pengaturan akun"| P71
    SuperAdmin -->|"info data pengaturan akun"| P72
    Admin -->|"info data pengaturan akun"| P71
    Admin -->|"info data pengaturan akun"| P72
    
    %% Flows between processes
    P71 -->|"info data pengaturan akun"| P73
    P72 -->|"info data pengaturan akun"| P73
    P73 -->|"data pengaturan akun update"| P71
    P73 -->|"data pengaturan akun update"| P72
    
    %% Flows to Data Store
    P73 -->|"info data admin user"| D1
    D1 -->|"data admin user update"| P73
    
    %% Flows to Activity Log
    P73 -->|"data log aktivitas"| D6
    
    %% Flows back to External Entities
    P71 -->|"data pengaturan akun update"| SuperAdmin
    P71 -->|"data pengaturan akun update"| Admin
    P72 -->|"data pengaturan akun update"| SuperAdmin
    P72 -->|"data pengaturan akun update"| Admin
    P73 -->|"data pengaturan akun update"| SuperAdmin
    P73 -->|"data pengaturan akun update"| Admin
    
    style P71 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P72 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P73 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style SuperAdmin fill:#ffebee,stroke:#c62828,stroke-width:2px
    style Admin fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style D1 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D6 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P7.1 Ubah Username:</strong> Mengubah username akun yang sedang login.</p>
                    <p><strong>P7.2 Ubah Password:</strong> Mengubah password akun yang sedang login.</p>
                    <p><strong>P7.3 Validasi Pengaturan Akun:</strong> Memvalidasi perubahan username atau password sebelum disimpan ke database.</p>
                </div>
            </div>

            <!-- P8.0 Auto-Translation -->
            <div id="p8" class="diagram-container">
                <h2 class="diagram-title">P8.0 Auto-Translation</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    GoogleAPI["Google Translate API"]
    
    %% Sub-processes
    P81["P8.1<br/>Terima Teks<br/>Bahasa Indonesia"]
    P82["P8.2<br/>Panggil API<br/>Translation"]
    P83["P8.3<br/>Proses Hasil<br/>Terjemahan"]
    
    %% Flows
    P81 -->|"data teks bahasa Indonesia"| P82
    P82 -->|"data teks bahasa Indonesia"| GoogleAPI
    GoogleAPI -->|"info teks terjemahan"| P82
    P82 -->|"info teks terjemahan"| P83
    P83 -->|"info teks terjemahan"| P81
    
    style P81 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P82 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P83 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style GoogleAPI fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P8.1 Terima Teks Bahasa Indonesia:</strong> Menerima teks bahasa Indonesia dari proses manajemen konten.</p>
                    <p><strong>P8.2 Panggil API Translation:</strong> Memanggil Google Translate API untuk menerjemahkan teks.</p>
                    <p><strong>P8.3 Proses Hasil Terjemahan:</strong> Memproses hasil terjemahan dari API dan mengembalikannya ke proses pemanggil.</p>
                </div>
            </div>

            <!-- P9.0 Tampilkan Website -->
            <div id="p9" class="diagram-container">
                <h2 class="diagram-title">P9.0 Tampilkan Website</h2>
                <div class="mermaid">
graph TB
    %% External Entities
    Visitor["Pengunjung Website"]
    
    %% Sub-processes
    P91["P9.1<br/>Terima Request<br/>Halaman"]
    P92["P9.2<br/>Baca Data dari<br/>Database"]
    P93["P9.3<br/>Lokalisasi Konten<br/>Berdasarkan Bahasa"]
    P94["P9.4<br/>Render Halaman<br/>Website"]
    
    %% Data Stores
    D2["D2<br/>doctors"]
    D3["D3<br/>services"]
    D4["D4<br/>faqs"]
    D5["D5<br/>content_pages"]
    D7["D7<br/>sessions"]
    
    %% Flows from External Entities
    Visitor -->|"data request halaman"| P91
    Visitor -->|"data pilihan bahasa"| P91
    Visitor -->|"data response kuesioner"| P91
    
    %% Flows between processes
    P91 -->|"data request"| P92
    P92 -->|"data konten"| P93
    P93 -->|"data konten terlokalisasi"| P94
    P94 -->|"info konten website"| Visitor
    P94 -->|"info dokter"| Visitor
    P94 -->|"info layanan"| Visitor
    P94 -->|"info FAQ"| Visitor
    P94 -->|"info konten halaman"| Visitor
    P94 -->|"info layout prioritas"| Visitor
    
    %% Flows to Data Stores
    P92 -->|"data request"| D2
    P92 -->|"data request"| D3
    P92 -->|"data request"| D4
    P92 -->|"data request"| D5
    P91 <-->|"data session"| D7
    P93 <-->|"data session"| D7
    
    style P91 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P92 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P93 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style P94 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style Visitor fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    style D2 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D3 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D4 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D5 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
    style D7 fill:#fff9c4,stroke:#f57f17,stroke-width:4px
                </div>
                <div class="info-box">
                    <h3>Deskripsi</h3>
                    <p><strong>P9.1 Terima Request Halaman:</strong> Menerima request halaman dari pengunjung website.</p>
                    <p><strong>P9.2 Baca Data dari Database:</strong> Membaca data dari berbagai data store sesuai request.</p>
                    <p><strong>P9.3 Lokalisasi Konten Berdasarkan Bahasa:</strong> Melokalisasi konten berdasarkan bahasa yang dipilih pengunjung.</p>
                    <p><strong>P9.4 Render Halaman Website:</strong> Merender halaman website dengan konten yang sudah terlokalisasi.</p>
                </div>
            </div>

            <a href="dfd-level0.html" class="back-link">‚Üê Kembali ke DFD Level 0</a>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        function showDiagram(id) {
            // Hide all diagrams
            const diagrams = document.querySelectorAll('.diagram-container');
            diagrams.forEach(diagram => {
                diagram.classList.remove('active');
            });

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected diagram
            document.getElementById(id).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
